#--------------------------------------------------------------------------------------------------------------
#--------------------------------------------------------------------------------------------------------------
# Name: Sentinel
# Description: Local developer targets for the embedded systems sentinel project
#--------------------------------------------------------------------------------------------------------------
#--------------------------------------------------------------------------------------------------------------

#--------------------------------------------------------------------------------------------------------------
#
# Begin Sentinel make targets
#
#--------------------------------------------------------------------------------------------------------------

#--------------------------------------------------------------------------------------------------------------
# test-local
#--------------------------------------------------------------------------------------------------------------
# This utility is intened for gitpod developer use only and should not execute within a CICD build.
#--------------------------------------------------------------------------------------------------------------
sentinel/test-local:
	mvn test

# package-local
#--------------------------------------------------------------------------------------------------------------
# This utility is intened for gitpod developer use only and should not execute within a CICD build.
#--------------------------------------------------------------------------------------------------------------
sentinel/package-local: sentinel/test-local
	mvn package

#--------------------------------------------------------------------------------------------------------------
# build-local
#--------------------------------------------------------------------------------------------------------------
# This utility is intened for gitpod developer use only and should not execute within a CICD build.
#--------------------------------------------------------------------------------------------------------------
sentinel/build-local: sentinel/package-local
	cp ./target/embedded-systems-sentinel-sonarcloud-plugin-0.0.0-SNAPSHOT.jar ./docker/tmp/ ; \
	cd ./docker \
	docker build -t sonarqube-se-sentinel .

#--------------------------------------------------------------------------------------------------------------
# serve-local
#--------------------------------------------------------------------------------------------------------------
# This utility is intened for gitpod developer use only and should not execute within a CICD build.
#--------------------------------------------------------------------------------------------------------------
sentinel/serve-local: sentinel/build-local
	docker run -dp 9000:9000 sonarqube-se-sentinel

#--------------------------------------------------------------------------------------------------------------
#
# End Sentinel make targets
#
#--------------------------------------------------------------------------------------------------------------